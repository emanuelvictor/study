<form [formGroup]='form?.controls[index]' *ngIf='form?.controls[index]' novalidate>
  <div layout="row" flex layout-align='start center'>

    <mat-form-field flex>
      <input formControlName='nome{{index}}' flex
             placeholder='Nome do anexo' *ngIf='index'
             [(ngModel)]='anexoEmail.nome' maxlength='150'
             matInput id='nome{{index}}' name='nome{{index}}'/>
      <mat-error *ngIf="form?.controls[index]?.controls['nome'+index]?.hasError('exception')">
        {{form?.controls[index]?.controls['nome'+index]?.errors?.exception}}
      </mat-error>
      <mat-hint align='start'>
        Os formatos disponíveis são somente {{formatos?.join(', ')}}
      </mat-hint>
    </mat-form-field>

    <horizontal-space></horizontal-space>

    <input type='file' accept="{{formatos?.join(',')}}"
           id='inputField{{index}}' name='inputField{{index}}'
           style='display: none' (change)='onFileChange($event)'/>

    <button (click)='selectFile()'
            type='button' style='margin-top: -17px'
            mat-raised-button class='attach-button'>
      <mat-icon>attach_file</mat-icon>
      <span>Anexar</span>
    </button>

    <horizontal-space *ngIf='anexoEmail?.conteudo?.lastModified'></horizontal-space>

    <button (click)='visualizarAnexo(anexoEmail)'
            style='margin-top: -17px' type='button'
            mat-raised-button class='attach-button'
            *ngIf='anexoEmail?.conteudo?.lastModified'>
      <mat-icon>cloud_download</mat-icon>
      <span> Visualizar</span>
    </button>

  </div>
</form>
