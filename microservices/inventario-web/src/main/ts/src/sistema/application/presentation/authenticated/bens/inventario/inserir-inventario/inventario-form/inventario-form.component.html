<form [formGroup]='form' (ngSubmit)='saveEntity(form)' novalidate>

  <!--toolbar div-->
  <ng-content select="[toolbar]"></ng-content>

  <mat-card>

    <div layout='row' layout-sm='column' layout-xs='column'>
      <mat-form-field flex style='display: block'>
        <mat-label>Nome</mat-label>
        <input id='nome' name='nome' maxlength='150'
               matInput formControlName='nome' required
               [(ngModel)]='entity.nome' placeholder='Nome'/>
        <mat-error>
          Esse campo é obrigatório
        </mat-error>
      </mat-form-field>

      <horizontal-space></horizontal-space>

      <ev-datepicker flex [(dataInput)]='entity.dataInicio'>
        <mat-form-field>
          <mat-label>Data de Início</mat-label>
          <input name='dataInicio' id='dataInicio'
                 flex [(ngModel)]='entity.dataInicio'
                 matInput placeholder='Data de início'
                 formControlName='dataInicio' required
                 [textMask]='{mask: masks.date, guide: false}'
                 (keyup)="form?.get('dataTermino')?.updateValueAndValidity()"/>
          <mat-error *ngIf="form?.controls['dataInicio']?.hasError('exception')">
            {{form?.controls['dataInicio']?.errors.exception}}
          </mat-error>
        </mat-form-field>
      </ev-datepicker>

      <horizontal-space></horizontal-space>

      <ev-datepicker flex [(dataInput)]='entity.dataTermino'>
        <mat-form-field>
          <mat-label>Data de Término</mat-label>
          <input name='dataTermino' id='dataTermino'
                 flex [(ngModel)]='entity.dataTermino'
                 matInput placeholder='Data de término'
                 formControlName='dataTermino' required
                 [textMask]='{mask: masks.date, guide: false}'
                 (keyup)="form?.get('dataInicio')?.updateValueAndValidity()"/>
          <mat-error *ngIf="form?.controls['dataTermino']?.hasError('exception')">
            {{form?.controls['dataTermino']?.errors.exception}}
          </mat-error>
        </mat-form-field>
      </ev-datepicker>
    </div>

    <!--divider-->
    <ng-content select="[divider]"></ng-content>

    <!--vincular-centro-custo-->
    <ng-content select="[vincular-centro-custo]"></ng-content>

  </mat-card>
</form>
