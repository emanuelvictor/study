<mat-toolbar class='mat-elevation-z2' style='background-color : white; padding: 0'>
  <div style='margin-left: 30px;margin-right: 30px' flex layout='row'>
    <button mat-icon-button (click)="sidenav.toggle()" hide-gt-sm style='margin-top: 8px'>
      <mat-icon>menu</mat-icon>
    </button>

    <div flex flex-xs="80" flex-gt-xs='15' flex-gt-sm='10'
         flex-gt-md='20' flex-sm='75' layout='row' layout-align='start center'>
      <img class="size-height-50" style='height: 40px; padding-left: 16px; cursor: pointer'
           alt='Logo PTI' routerLink="" src='../../../assets/images/logo_pti_sem_descritivo_preta@2x.png'>
    </div>

    <!--<span flex-xl='20' flex-lg='10' hide-md hide-sm hide-xs></span>-->

    <div flex='55' flex-md='75' hide-sm>
      <div flex layout='row' layout-align='center center'>
        <button routerLinkActive
                mat-icon-button flex hide-xs
                #rlaDashboard='routerLinkActive'
                [ngClass]="{'menu-active': rlaDashboard.isActive}"
                [routerLink]="'/dashboard'" style='margin-top: 8px; color: #4C4C4C'>
          <mat-icon>dashboard</mat-icon>
          Dashboard
        </button>

        <div *ngIf='!usuario?.isFornecedor' flex hide-xs>
          <button routerLinkActive
                  mat-icon-button flex hide-xs
                  #rlaFornecedores='routerLinkActive'
                  [ngClass]="{'menu-active': rlaFornecedores.isActive}"
                  [routerLink]="'/fornecedores'" style='margin-top: 8px; color: #4C4C4C'>
            <mat-icon>assignment_ind</mat-icon>
            Fornecedores
          </button>
        </div>

        <button routerLinkActive
                mat-icon-button flex hide-xs
                #rlaCompras='routerLinkActive'
                [ngClass]="{'menu-active': rlaCompras.isActive}"
                [routerLink]="'/publicacoes'" style='margin-top: 8px; color: #4C4C4C'>
          <mat-icon>work</mat-icon>
          Compras e licitações
        </button>

        <button routerLinkActive
                mat-icon-button flex hide-xs
                #rlaCadastros='routerLinkActive'
                [ngClass]="{'menu-active': rlaCadastros.isActive}"
                [routerLink]="'/cadastros'" style='margin-top: 8px; color: #4C4C4C'
                >
          <mat-icon>playlist_add_check</mat-icon>
          Cadastros
        </button>

        <button routerLinkActive
                mat-icon-button flex hide-xs
                #rlaConfiguracoes='routerLinkActive'
                [ngClass]="{'menu-active': rlaConfiguracoes.isActive}"
                [routerLink]="'/configuracoes'" style='margin-top: 8px; color: #4C4C4C'
                >
          <mat-icon>tune</mat-icon>
          Configurações
        </button>
      </div>
    </div>

    <!--<span flex-xl='20' flex-lg='10' hide-md hide-sm hide-xs></span>-->

    <div flex layout='row' layout-align='end center'>
      <label style='color: #4C4C4C'
             class='mat-body-2 push-right'
             *ngIf='usuario?.isFornecedor'
             [ngSwitch]='usuario?.fornecedor?.status'>
        <strong>Status: </strong>
        <span *ngSwitchCase="'EM_CRIACAO'" style='color: #4C4C4C'>Em Criação</span>
        <span *ngSwitchCase="'RECUSADO'" style='color: #E44451'>Recusado</span>
        <span *ngSwitchCase="'EM_ANALISE'" style='color: #F6B800'>Em Análise</span>
        <span *ngSwitchCase="'APROVADO'" style='color: #2DB45C'>Aprovado</span>
      </label>

      <label style='color: #4C4C4C'
             layout-align='end center'
             class='mat-body-2' hide-xs hide-md>
        {{usuario?.nome ? usuario?.nome : usuario?.email}}
      </label>
    </div>

    <div layout-margin
         layout-align='center center' layout='row'
         style='cursor: pointer; color: #4C4C4C' [matMenuTriggerFor]='menu'>

      <button mat-icon-button>
        <mat-icon>keyboard_arrow_down</mat-icon>
      </button>
    </div>
    <mat-menu #menu='matMenu'>
      <button mat-menu-item (click)='logout()'
              color='primary' style='color: #4C4C4C'>
        <mat-icon>power_settings_new</mat-icon>
        <span>Sair</span>
      </button>
    </mat-menu>
  </div>
</mat-toolbar>
<mat-sidenav-container>

  <!-- MENU LATERAL -->
  <mat-sidenav #sidenav mode='over' [opened]='false'>

    <div layout='row' class='menu-top' *ngIf='usuario' flex>

      <div layout='column' (click)='openDialogChangePassword()'
           matTooltip='Alterar senha' [style.position]="'relative'">

        <button mat-icon-button class="btn-primary">
          {{ usuario.nome | userInitials }}
        </button>
        <mat-icon matSuffix class="change-password">settings</mat-icon>

      </div>
      <horizontal-space [horizontalMargin]="5"></horizontal-space>
      <div layout='column'>
        <h3>{{ usuario.nome }}</h3>
        <label *ngIf="usuario?.email?.length <= 24">{{ usuario.email }}</label>
        <label matTooltip='{{ usuario?.email }}'
               *ngIf='usuario?.email?.length > 24'>
          {{ usuario.email | truncate:21 }}
        </label>
      </div>
    </div>

    <mat-nav-list class='pad-none' *ngIf="usuario" flex>
      <mat-list class='pad-none'>

        <mat-list-item [routerLink]="'/dashboard'"
                       routerLinkActive mat-icon-button
                       #rlaDashboard='routerLinkActive' flex
                       class='menu-routers' (click)='sidenav.close()'
                       [ngClass]="{'menu-active': rlaDashboard.isActive}">
          <div layout='row' class="menu-item">
            <mat-icon>dashboard</mat-icon>
            <h3>Dashboard</h3>
          </div>
        </mat-list-item>

        <div *ngIf='!usuario?.isFornecedor'>
          <mat-list-item [routerLink]="'/fornecedores'"
                         routerLinkActive mat-icon-button
                         #rlaFornecedores='routerLinkActive' flex
                         class='menu-routers' (click)='sidenav.close()'
                         [ngClass]="{'menu-active': rlaFornecedores.isActive}"
>
            <div layout='row' class="menu-item">
              <mat-icon>assignment_ind</mat-icon>
              <h3>Fornecedores</h3>
            </div>
          </mat-list-item>
        </div>

        <mat-list-item class='menu-routers' (click)='sidenav.close()'
                       #rlaCompras='routerLinkActive' mat-icon-button
                       [ngClass]="{'menu-active': rlaCompras.isActive}"
                       [routerLink]="'/publicacoes'" routerLinkActive flex
>
          <div layout='row' class="menu-item">
            <mat-icon>work</mat-icon>
            <h3>Compras e licitações</h3>
          </div>
        </mat-list-item>

        <mat-list-item routerLinkActive (click)='sidenav.close()'
                       mat-icon-button #rlaCadastros='routerLinkActive'
                       [ngClass]="{'menu-active': rlaCadastros.isActive}"
                       [routerLink]="'/cadastros'" flex class='menu-routers'
>
          <div layout='row' class="menu-item">
            <mat-icon>playlist_add_check</mat-icon>
            <h3>Cadastros</h3>
          </div>
        </mat-list-item>

        <mat-list-item class='menu-routers' (click)='sidenav.close()' routerLinkActive
                       [ngClass]="{'menu-active': rlaConfiguracoes.isActive}" mat-icon-button
                       #rlaConfiguracoes='routerLinkActive' [routerLink]="'/configuracoes'" flex
>
          <div layout='row' class="menu-item">
            <mat-icon>tune</mat-icon>
            <h3>Configurações</h3>
          </div>
        </mat-list-item>


        <!--<td-expansion-panel *ngIf="usuario?.isAdministrador"-->
        <!--[expand]="rlaSetores.isActive-->
        <!--|| rlaUsuarios.isActive"-->
        <!--[ngClass]="{'expansion-menu-active': rlaSetores.isActive-->
        <!--|| rlaUsuarios.isActive}">-->
        <!--<ng-template td-expansion-panel-label>-->
        <!--<div layout='row' class="menu-item">-->
        <!--<mat-icon>archive</mat-icon>-->
        <!--<h3>Cadastros</h3>-->
        <!--</div>-->
        <!--</ng-template>-->

        <!--<a routerLinkActive-->
        <!--(click)='sidenav.close()'-->
        <!--[routerLink]="['/setores']"-->
        <!--#rlaSetores='routerLinkActive'-->
        <!--[ngClass]="{'submenu-active': rlaSetores.isActive}">-->
        <!--<mat-list-item>-->
        <!--<div layout='row' class="submenu-item" flex>-->
        <!--<h3>Setor</h3>-->
        <!--</div>-->
        <!--</mat-list-item>-->
        <!--</a>-->

        <!--<a routerLinkActive-->
        <!--(click)='sidenav.close()'-->
        <!--[routerLink]="['/usuarios']"-->
        <!--#rlaUsuarios='routerLinkActive'-->
        <!--[ngClass]="{'submenu-active': rlaUsuarios.isActive}">-->
        <!--<mat-list-item>-->
        <!--<div layout='row' class="submenu-item" flex>-->
        <!--<h3>Usuário</h3>-->
        <!--</div>-->
        <!--</mat-list-item>-->
        <!--</a>-->
        <!--</td-expansion-panel>-->

      </mat-list>
    </mat-nav-list>

    <div class='menu-bottom' flex layout='column'>

      <div layout='row'
           layout-align='center center'>
        <img class='image-logo' alt='Logo PTI'
             [src]="'../../../assets/images/logo-pti.png'">
      </div>
      <mat-divider></mat-divider>
      <div layout='row' layout-align="center start">
        <button mat-button (click)='logout()' flex>
          <mat-icon>exit_to_app</mat-icon>
          <span>Sair</span>
        </button>
      </div>
    </div>

  </mat-sidenav>

  <!-- ROTEAMENTO DE COMPONENTES DA APLICAÇÃO -->
  <router-outlet></router-outlet>

</mat-sidenav-container>
